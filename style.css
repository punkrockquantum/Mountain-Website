/* --- GLOBAL & PAGE LAYOUT --- */
* { margin:0; padding:0; box-sizing:border-box; }
body {
  background:#000;
  height:200vh;    /* allow scrolling on mobile */
  overflow-y:scroll;
  font-family:'Segoe UI',sans-serif;
  position:relative;
}

/* --- TORCH (fixed size & mix-blend) --- */
#torch {
  position:fixed;
  top:50%; left:50%;
  width:300px; height:300px;
  margin:-150px 0 0 -150px;
  border-radius:50%;
  background:radial-gradient(circle, rgba(255,255,240,0.2) 0%, transparent 70%);
  mix-blend-mode:screen;
  pointer-events:none;
  transition:top .02s,left .02s;
}

/* --- SWITCH BUTTON --- */
#light-switch {
  position:absolute;
  top:140vh; /* offscreen initially */
  left:50%; transform:translateX(-50%);
  padding:1rem 2rem; font-size:1.2rem;
  background:transparent; border:2px solid #fff;
  color:#fff; border-radius:8px;
  opacity:0; pointer-events:none;
  transition:opacity .2s ease;
}
#light-switch.visible {
  opacity:1; pointer-events:auto;
}

/* --- PANELS OVERLAY --- */
#blackout-panel,
#powerback-panel,
#imbalance-panel,
#game-panel {
  position:fixed; top:0; left:0;
  width:100%; height:100%;
  display:none;
  text-align:center;
  justify-content:center;
  align-items:center;
  flex-direction:column;
}
#blackout-panel,
#powerback-panel,
#imbalance-panel,
#game-panel { display:flex; }

/* --- BLACKOUT PANEL --- */
#blackout-panel {
  background:#000; color:#eee;
}
#blackout-panel p { font-size:1.3rem; margin-bottom:1rem; }
#timer {
  font-size:2.5rem; font-family:'Courier New',monospace;
  margin-bottom:1rem;
}
#skip-quantum {
  background:#3366ff; border:none; color:#fff;
  padding:.75rem 1.5rem; border-radius:6px;
  cursor:pointer; transition:background .2s;
}
#skip-quantum:hover { background:#5590ff; }

/* --- POWER BACK PANEL --- */
#powerback-panel {
  background:#fff;
}
#logo {
  max-width:200px; margin-bottom:2rem;
}
#power-back-text {
  font-family:'Helvetica',sans-serif;
  font-size:46pt;
  color:#000; line-height:1.2;
}

/* --- IMBALANCE PANEL --- */
#imbalance-panel {
  background:#000;
}
#imbalance-panel p {
  color:#fff; font-size:1.5rem;
}
#imbalance-timer {
  font-size:2rem; font-family:'Courier New',monospace;
}

/* --- GAME PANEL --- */
#game-panel {
  background:#000; color:#eee;
  padding-top:2rem; overflow-y:auto;
}
#game-panel h2 { margin-bottom:1rem; }

/* Symbol selection */
#symbol-selection { margin-bottom:1rem; }
#symbol-selection button {
  background:#444; border:none; color:#fff;
  padding:.5rem .75rem; margin:0 .5rem;
  font-size:1.2rem; border-radius:4px;
  cursor:pointer; transition:background .2s;
}
#symbol-selection button:hover { background:#666; }

/* Board */
#board {
  display:grid;
  grid-template:repeat(3,100px)/repeat(3,100px);
  gap:10px; margin:1rem auto;
}
.cell {
  background:#111; border:2px solid #555;
  display:flex; align-items:center; justify-content:center;
  font-size:2.5rem; cursor:pointer;
  transition:background .2s;
}
.cell:hover { background:#222; }

/* Analysis & toggle */
#analysis {
  background:rgba(0,0,0,0.5); border:1px solid #444;
  padding:1rem; margin:1rem auto;
  max-width:90%; max-height:200px;
  overflow-y:auto; text-align:left;
  font-size:.9rem;
}
#quantum-toggle-label {
  display:none; margin-top:1rem; font-size:1rem;
  cursor:pointer;
}
#game-result { margin-top:1rem; font-size:1.3rem; }
#learn-more {
  display:inline-block; margin-top:2rem;
  color:#66ccff; text-decoration:none; font-weight:bold;
}
#learn-more:hover { text-decoration:underline; }
